#!/usr/bin/env bash
# Check to see if the a process with the given name is running as a descendant of the given PID.
function _search()
{
    if [[ -z $1 ]]; then
        return 1
    fi

    # Get child processes.
    while read -r pid name; do
        if [[ -z $pid ]]; then
            continue
        fi

        if [[ $name == $2 ]]; then
            return 0
        fi

        if _search "$pid" "$2"; then
            return 0
        fi
    done <<< "$(pgrep -lP "$1")"

    return 1
}

_search "$1" "$2"
